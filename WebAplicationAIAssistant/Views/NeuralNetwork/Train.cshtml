@model WebAplicationAIAssistant.Models.NeuralNetworkModel
@{
    ViewData["Title"] = $"–û–±—É—á–µ–Ω–∏–µ - {Model.ProductName}";
}

<div class="train-container">
    <div class="container">
        <div class="train-header">
            <a asp-action="Index" class="back-link">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —É—Ä–æ–≤–Ω—è–º</a>
            <h1 class="train-title">üéÆ –û–±—É—á–µ–Ω–∏–µ: @Model.ProductName</h1>
            <p class="train-subtitle">–ü–æ–¥–±–µ—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–µ—Å–∞ –¥–ª—è –Ω–µ–π—Ä–æ—Å–µ—Ç–∏!</p>
        </div>

        <div class="explanation-panel mb-4">
            <h3>üìñ –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏</h3>
            <div class="function-info">
                <div class="function-header">
                    <h4>@Model.ActivationFunctionName</h4>
                    <div class="scientific-name-badge">@Model.ScientificName</div>
                </div>
                <div class="function-formula">
                    <pre>@Model.ActivationFunctionFormula</pre>
                </div>
                <div class="function-explanation">
                    <p><strong>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong></p>
                    <p>@Model.ActivationFunctionDescription</p>
                    <p><strong>–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ:</strong></p>
                    <p>@Model.Explanation</p>
                </div>
                <div class="variable-notation">
                    <strong>–û–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:</strong>
                    <ul>
                        <li><strong>X‚ÇÅ, X‚ÇÇ, X‚ÇÉ...</strong> - –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (input features, –ø—Ä–∏–∑–Ω–∞–∫–∏)</li>
                        <li><strong>W‚ÇÅ, W‚ÇÇ, W‚ÇÉ...</strong> - –≤–µ—Å–∞ (weights) - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</li>
                        <li><strong>S</strong> - –≤–∑–≤–µ—à–µ–Ω–Ω–∞—è —Å—É–º–º–∞ (weighted sum, –∞–∫—Ç–∏–≤–∞—Ü–∏—è)</li>
                        <li><strong>y</strong> - –≤—ã—Ö–æ–¥ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ (output)</li>
                        @if (Model.Level == 3)
                        {
                            <li><strong>¬∑</strong> - –∑–Ω–∞–∫ —É–º–Ω–æ–∂–µ–Ω–∏—è</li>
                        }
                    </ul>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-5">
                <div class="control-panel">
                    <h3>‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Å–∞–º–∏</h3>
                    <div id="weights-container">
                        @for (int i = 0; i < Model.InputLabels.Count; i++)
                        {
                            <div class="weight-control">
                                <label class="weight-label">
                                    <strong>@Model.InputLabels[i]</strong><br>
                                    <span class="weight-name">W@(i+1)</span>
                                </label>
                                <div class="slider-container">
                                    <input type="range" 
                                           class="weight-slider" 
                                           data-index="@i"
                                           min="-5" 
                                           max="5" 
                                           step="0.1" 
                                           value="0"
                                           id="weight-@i">
                                    <span class="weight-value" id="value-@i">0.0</span>
                                </div>
                            </div>
                        }
                    </div>
                    <div class="button-group">
                        <button id="test-btn" class="btn btn-test">üß™ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ–π—Ä–æ—Å–µ—Ç—å</button>
                        <button id="reset-btn" class="btn btn-reset">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
                    </div>
                </div>
            </div>

            <div class="col-lg-7">
                <div class="results-panel">
                    <h3>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
                    <div id="results-container">
                        <div class="results-placeholder">
                            <p>–ò–∑–º–µ–Ω–∏ –≤–µ—Å–∞ –∏ –Ω–∞–∂–º–∏ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ–π—Ä–æ—Å–µ—Ç—å" –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="level-data" 
     data-level="@Model.Level" 
     data-input-count="@Model.InputLabels.Count"
     style="display: none;"></div>

@section Scripts {
    <script src="~/js/neural-network.js" asp-append-version="true"></script>
}
